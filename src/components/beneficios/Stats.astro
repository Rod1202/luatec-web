<section class="py-16 md:py-24 relative overflow-hidden" id="impacto-numeros">
    <div class="max-w-7xl mx-auto px-6 relative z-10">
        <!-- Main Premium Capsule -->
        <div class="stats-capsule w-full bg-gradient-to-br from-[#0c0c0c] to-[#1a1a1a] border border-white/10 rounded-[2.5rem] md:rounded-[3.5rem] p-4 md:p-6 shadow-[0_30px_100px_rgba(0,0,0,0.8)] opacity-0 translate-y-10 transition-all duration-1000 ease-out" id="stats-container">
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 items-center">
                
                <!-- Stat 1 -->
                <div class="stat-item group relative py-8 md:py-12 px-8 text-center transition-all duration-300 hover:bg-white/[0.03] first:rounded-t-[2.2rem] last:rounded-b-[2.2rem] md:first:rounded-l-[3.2rem] md:first:rounded-tr-none md:last:rounded-r-[3.2rem] md:last:rounded-bl-none">
                    <div class="relative z-10 transition-transform duration-300 group-hover:-translate-y-2">
                        <div class="text-4xl md:text-5xl font-extrabold text-white mb-2 tracking-tighter transition-colors duration-300 group-hover:text-blue-500">
                            <span class="count-up" data-target="40">0</span>%
                        </div>
                        <p class="text-[0.65rem] md:text-[0.75rem] font-bold text-slate-400 uppercase tracking-[0.2em] opacity-70 group-hover:opacity-100 group-hover:text-blue-400 transition-all duration-300">
                            Optimización de Costos
                        </p>
                    </div>
                    <!-- Vertical Divider (Desktop) -->
                    <div class="hidden lg:block absolute right-0 top-1/2 -translate-y-1/2 w-[1px] h-12 bg-gradient-to-b from-transparent via-white/10 to-transparent"></div>
                </div>

                <!-- Stat 2 -->
                <div class="stat-item group relative py-8 md:py-12 px-8 text-center transition-all duration-300 hover:bg-white/[0.03]">
                    <div class="relative z-10 transition-transform duration-300 group-hover:-translate-y-2">
                        <div class="text-4xl md:text-5xl font-extrabold text-white mb-2 tracking-tighter transition-colors duration-300 group-hover:text-blue-500">
                            <span class="count-up" data-target="100">0</span>%
                        </div>
                        <p class="text-[0.65rem] md:text-[0.75rem] font-bold text-slate-400 uppercase tracking-[0.2em] opacity-70 group-hover:opacity-100 group-hover:text-blue-400 transition-all duration-300">
                            Disponibilidad
                        </p>
                    </div>
                    <!-- Vertical Divider (Desktop) -->
                    <div class="hidden lg:block absolute right-0 top-1/2 -translate-y-1/2 w-[1px] h-12 bg-gradient-to-b from-transparent via-white/10 to-transparent"></div>
                </div>

                <!-- Stat 3 -->
                <div class="stat-item group relative py-8 md:py-12 px-8 text-center transition-all duration-300 hover:bg-white/[0.03]">
                    <div class="relative z-10 transition-transform duration-300 group-hover:-translate-y-2">
                        <div class="text-4xl md:text-5xl font-extrabold text-white mb-2 tracking-tighter transition-colors duration-300 group-hover:text-blue-500">
                            +<span class="count-up" data-target="200">0</span>
                        </div>
                        <p class="text-[0.65rem] md:text-[0.75rem] font-bold text-slate-400 uppercase tracking-[0.2em] opacity-70 group-hover:opacity-100 group-hover:text-blue-400 transition-all duration-300">
                            Casos de Éxito
                        </p>
                    </div>
                    <!-- Vertical Divider (Desktop) -->
                    <div class="hidden lg:block absolute right-0 top-1/2 -translate-y-1/2 w-[1px] h-12 bg-gradient-to-b from-transparent via-white/10 to-transparent"></div>
                </div>

                <!-- Stat 4 -->
                <div class="stat-item group relative py-8 md:py-12 px-8 text-center transition-all duration-300 hover:bg-white/[0.03] first:rounded-t-[2.2rem] last:rounded-b-[2.2rem] md:first:rounded-l-[3.2rem] md:first:rounded-tr-none md:last:rounded-r-[3.2rem] md:last:rounded-bl-none">
                    <div class="relative z-10 transition-transform duration-300 group-hover:-translate-y-2">
                        <div class="text-4xl md:text-5xl font-extrabold text-white mb-2 tracking-tighter transition-colors duration-300 group-hover:text-blue-500">
                            <span class="count-up" data-target="24">0</span>/7
                        </div>
                        <p class="text-[0.65rem] md:text-[0.75rem] font-bold text-slate-400 uppercase tracking-[0.2em] opacity-70 group-hover:opacity-100 group-hover:text-blue-400 transition-all duration-300">
                            Vigilancia Preventiva
                        </p>
                    </div>
                </div>

            </div>
        </div>
    </div>
</section>

<script>
    // Intersection Observer for animations
    const observerOptions = {
        threshold: 0.2
    };

    const statsObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.remove('opacity-0', 'translate-y-10');
                entry.target.classList.add('opacity-100', 'translate-y-0');
                
                // Start counters
                const counters = entry.target.querySelectorAll('.count-up');
                counters.forEach(counter => animateCounter(counter));
                
                statsObserver.unobserve(entry.target);
            }
        });
    }, observerOptions);

    const container = document.getElementById('stats-container');
    if (container) statsObserver.observe(container);

    function animateCounter(el) {
        const target = parseInt(el.getAttribute('data-target'));
        const duration = 600; 
        const stepTime = 60; 
        const steps = duration / stepTime;
        const increment = target / steps;
        let current = 0;

        const timer = setInterval(() => {
            current += increment;
            if (current >= target) {
                el.textContent = target;
                clearInterval(timer);
            } else {
                el.textContent = Math.floor(current);
            }
        }, stepTime);
    }
</script>

<style>
    .stats-capsule {
        /* Subtle inner glow */
        box-shadow: 
            0 20px 50px rgba(0,0,0,0.5), 
            inset 0 1px 1px rgba(255,255,255,0.05);
    }

    /* Custom tracking for luxury feel */
    .stat-item p {
        letter-spacing: 0.15em;
    }

    /* Hover glow effect */
    .stat-item::after {
        content: '';
        position: absolute;
        inset: 0;
        background: radial-gradient(circle at center, rgba(37, 99, 235, 0.1) 0%, transparent 75%);
        opacity: 0;
        transition: opacity 0.4s ease;
        pointer-events: none;
    }
    
    .stat-item:hover::after {
        opacity: 1;
    }
</style>
